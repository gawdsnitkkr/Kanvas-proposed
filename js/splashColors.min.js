(function($,w,d){var canvas,ctx,blend=100,time=0,animationTime,doAnimation=true,_Functions={CreateAnimation:function(){function hailAnimate(){if(doAnimation){w.requestAnimationFrame(hailAnimate);var px=Math.floor(Math.random()*canvas.width);var py=Math.floor(Math.random()*canvas.height);var pr=Math.floor(Math.random()*50);var pCol={r:Math.floor(Math.random()*255),g:Math.floor(Math.random()*255),b:Math.floor(Math.random()*255),a:1/blend};_Functions.SpreadColors(px,py,pr,pCol);if(time==animationTime){w.cancelAnimationFrame(hailAnimate);doAnimation=false;return}time++}}if(doAnimation==true){hailAnimate()}},SpreadColors:function(px,py,pr,pCol){var i=0,x=px,y=py,r=pr,col=pCol;function ink(){if(doAnimation){w.requestAnimationFrame(ink);_Functions.CreateSpot(x,y,r*(i/blend),col);if(i==blend){w.cancelAnimationFrame(ink)}i++}}ink()},CreateSpot:function(x,y,r,col){ctx.fillStyle="rgba("+col.r+","+col.g+","+col.b+","+col.a+")";ctx.beginPath();ctx.arc(x,y,r,0,Math.PI*2,false);ctx.fill()},SetTimeForAnimation:function(){if(w.innerWidth<=500){animationTime=500}else if(w.innerWidth>500&&w.innerWidth<1e3){animationTime=800}else{animationTime=1e3}}};$(w).on("load",function(){_Functions.SetTimeForAnimation();canvas=document.getElementById("canv");ctx=canvas.getContext("2d");canvas.height=w.innerHeight;canvas.width=w.innerWidth;_Functions.CreateAnimation()});$(w).on("resize",function(){canvas.width=w.innerWidth;canvas.height=w.innerHeight;_Functions.SetTimeForAnimation()})})(jQuery,window,document);
